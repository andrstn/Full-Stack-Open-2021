{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Persons.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNotif","add","find","person","name","onSubmit","event","preventDefault","alert","undefined","newContact","number","personService","returnedPerson","setTimeout","concat","catch","error","console","log","changedNumber","window","confirm","map","value","onChange","target","type","Persons","filters","deletePerson","setFilters","filter","match","RegExp","filtered","onClick","Filter","Notification","notifStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","split","style","App","useState","notif","useEffect","initialPersons","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8f89e5f7.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default { getAll, create, remove, update }","import React from \"react\";\r\nimport personService from '../services/persons'\r\n\r\nconst PersonForm = ({persons, setPersons, newName, setNewName, newNumber, setNewNumber, setNotif}) => {\r\n\r\n    const add = persons.find(person => person.name === `${newName}`)\r\n\r\n    const addContact = (event) => {\r\n        event.preventDefault()\r\n        if(newNumber === \"\" || newName === \"\" ){\r\n          alert('Please put something')\r\n        }\r\n        else if(add === undefined) {\r\n          const newContact = {\r\n            name: newName,\r\n            number: newNumber,\r\n          }\r\n          personService\r\n            .create(newContact)\r\n            .then(returnedPerson => {\r\n              setNotif(`Added ${newContact.name}`)\r\n              setTimeout(() => {\r\n                setNotif(null)\r\n              }, 2000)\r\n              setPersons(persons.concat(returnedPerson))\r\n              setNewName('')\r\n              setNewNumber('')\r\n            })\r\n            .catch(error => {\r\n              console.log(error.response.data)\r\n              setNotif(\r\n                `Invalid(1): ${error.response.data.error}`\r\n              )\r\n              setTimeout(() => {\r\n                setNotif(null)\r\n              }, 2000)\r\n            })\r\n        }\r\n        else if(add !== undefined) {\r\n          \r\n          if(add.number !== `${newNumber}`) {\r\n            const changedNumber = {...add, number: `${newNumber}`}\r\n            console.log(changedNumber)\r\n            if(window.confirm(`${changedNumber.name} already exists. Replace old number with the new one?`))\r\n              personService\r\n                .update(changedNumber.id, changedNumber)\r\n                .then(returnedPerson => {\r\n                  setPersons(persons.map(person => person.id !== changedNumber.id ? person : changedNumber))\r\n                  setNotif(`Updated ${changedNumber.name}`)\r\n                  setTimeout(() => {\r\n                    setNotif(null)\r\n                  }, 2000)\r\n                  setNewName('')\r\n                  setNewNumber('')\r\n                })\r\n                .catch(error => {\r\n                  setNotif(\r\n                    `Invalid(1): ${error.response.data.error}`\r\n                  )\r\n                  setTimeout(() => {\r\n                    setNotif(null)\r\n                  }, 2000)\r\n                })\r\n          }\r\n          else{\r\n            alert(`This contact already exists!`)\r\n          }\r\n        }\r\n      }\r\n    \r\n      const handleNewName = (event) => {\r\n        setNewName(event.target.value)\r\n      }\r\n    \r\n      const handleNewNumber = (event) => {\r\n        setNewNumber(event.target.value)\r\n      }\r\n\r\n      return (\r\n          <div>\r\n              <form onSubmit={addContact}>\r\n                <div>\r\n                Name: <br/>\r\n                <input \r\n                value={newName}\r\n                onChange={handleNewName}\r\n                />\r\n                </div> <br/>\r\n                <div>\r\n                Number: <br/>\r\n                <input\r\n                value={newNumber}\r\n                onChange={handleNewNumber}\r\n                />\r\n                </div> <br/>\r\n                <div>\r\n                <button type=\"submit\">ADD</button>\r\n                </div>\r\n            </form>\r\n          </div>\r\n      )\r\n}\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Persons = ({persons, filters, setFilters, setPersons, newName, setNewName, newNumber, setNewNumber, deletePerson}) => {\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {persons.filter(person => person.name.match(new RegExp(filters, 'i'))).map(filtered =>{\r\n                    return (\r\n                        <li key={filtered.name}>\r\n                            {filtered.name} {filtered.number}\r\n                            <button onClick={() => deletePerson(filtered.id)}>delete</button>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","import React from \"react\"\r\n\r\nconst Filter = ({persons, filters, setFilters, setPersons, newName, setNewName, newNumber, setNewNumber}) => {\r\n    \r\n    const handleFilter = (event) => {\r\n        setFilters(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form>\r\n                <div>\r\n                    filter shown with\r\n                    <input \r\n                    value={filters}\r\n                    onChange={handleFilter}\r\n                    />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\n\nconst Notification = ({value}) => {\n  const notifStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  }\n  if(value === null){\n    return null\n  }\n  else if(value.split(\" \")[0] === 'Added') {\n    notifStyle.color = 'green'\n    return (\n      <div style={notifStyle}>\n        {value}\n      </div>\n    )\n  }\n  else if(value.split(\" \")[0] === 'Deleted'){\n    notifStyle.color = 'red'\n    return (\n      <div style={notifStyle}>\n        {value}\n      </div>\n    )\n  }\n  else if(value.split(\" \")[0] === 'Updated'){\n    notifStyle.color = 'green'\n    return (\n      <div style={notifStyle}>\n        {value}\n      </div>\n    )\n  }\n  else {\n    notifStyle.color = 'red'\n    return (\n      <div style={notifStyle}>\n        {value}\n      </div>\n    )\n  }\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filters, setFilters] = useState('')\n  const [notif, setNotif] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        console.log('promise fulfilled')\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const deletePerson = (id) => {\n    const p = persons.find(person => person.id === id)\n    if(window.confirm(`Delete ${p.name}?`))\n      personService\n        .remove(id)\n        .then(returnedPerson => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNotif(`Deleted ${p.name}`)\n          setTimeout(() => {\n            setNotif(null)\n          }, 2000) \n        })\n        .catch(error => {\n          setNotif(\n            `Invalid(2): ${p.name} doesn't exist. Perhaps it was already deleted before the re-render`\n          )\n          setTimeout(() => {\n            setNotif(null)\n          }, 2000)\n          setPersons(persons.filter(person => person.name !== `${p.name}`))\n        })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification value={notif} />\n      \n      <Filter persons={persons} setPersons={setPersons} \n      newName={newName} newNumber={newNumber} setNewName={setNewName} setNewNumber={setNewNumber}\n      filters={filters} setFilters={setFilters} />\n\n      <h3>Add a new contact</h3>\n\n      <PersonForm persons={persons} setPersons={setPersons} \n      newName={newName} newNumber={newNumber} setNewName={setNewName} setNewNumber={setNewNumber} setNotif={setNotif}/>\n\n      <h3>Persons</h3>\n      \n      <Persons persons={persons} setPersons={setPersons} \n      newName={newName} newNumber={newNumber} setNewName={setNewName} setNewNumber={setNewNumber} \n      filters={filters} setFilters={setFilters} deletePerson={deletePerson}/>\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}